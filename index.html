<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>KingLion Indonesia</title>
	<link rel="stylesheet" href="./css/glide.core.min.css">
	<link rel="stylesheet" href="./css/tailwind.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700|Raleway:700&display=swap" rel="stylesheet">
</head>
<body data-barba="wrapper">
	<nav>
		<div class="nav-container">
			<button class="nav-btn" onclick="openNav()">
				Menu
			</button>
			<div class="nav-menu">
				<a href="#header">Beranda</a>
				<a href="#profile">Profil</a>
				<a href="#counter">Prestasi</a>
				<a href="#event">Event</a>
				<a href="#program">Program</a>
				<a href="#merchandise">Merchandise</a>
			</div>
			<!-- <div class="nav-section">
				<button id="section-up" onclick="sectionUp()">
					<svg width="18" height="11" viewBox="0 0 18 11" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M9.00001 0.514717L10.4142 1.92893L1.92894 10.4142L0.514725 9L9.00001 0.514717Z" fill="white"/>
						<path d="M9.00001 3.34314L10.4142 1.92893L17.4853 9L16.0711 10.4142L9.00001 3.34314Z" fill="white"/>
					</svg>
				</button>
				<span id="section-active">0<span>1</span></span>
				<button id="section-down" onclick="sectionDown()">
					<svg width="18" height="11" viewBox="0 0 18 11" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M9 10.4142L7.58579 9L16.0711 0.51472L17.4853 1.92893L9 10.4142Z" fill="white"/>
						<path d="M9 7.58579L7.58579 9L0.514721 1.92893L1.92893 0.51472L9 7.58579Z" fill="white"/>
					</svg>
				</button>
			</div> -->
		</div>
	</nav>
	<main data-barba="container" data-barba-namespace="home">
		<section id="header">
			<div id="brand" class="rellax" data-rellax-speed="2">
				<img src="./img/logo.svg" alt="Logo">
			</div>
			<h1 id="brand-name" class="rellax" data-rellax-speed="3">
				KingLion
			</h1>
			<h2 id="brand-desc" class="rellax" data-rellax-speed="3">Indonesia Event Organizer</h2>
			<div class="brand-background rellax" data-rellax-speed="4">
				<img src="./img/bg.webp" alt="Logo">
			</div>
			<a href="" class="btn rellax" data-rellax-speed="3">Mulai event</a>
		</section>
		<section id="profile" class="rellax" data-rellax-speed="3">
			<h1 class="title">
				Siapa kami?
			</h1>
			<div class="content">
				<div class="photo">
					<img class="rellax" src="./img/crew.webp" alt="Pegawai perusahaan" data-rellax-speed="2">
				</div>
				<div class="desc">
					<p class="text">
						Kami adalah perusahaan di Indonesia yang bergerak di bidang Event Organizing. Perusahaan kami didirikan oleh Ari Gusrizal pada tahun 2018 dengan tujuan berkontribusi mengembangkan talenta generasi muda melalui program yang ditawarkan.
					</p>
					<a href="./about.html" class="btn">Tentang kami</a>
				</div>
			</div>
		</section>
		<section id="counter">
			<h1 class="title">Lebih dari</h1>
			<div class="counter-list">
				<div class="counter-item">
					<span id="counter-number">80</span>
					<p>Event</p>
					<p>berhasil dikelola</p>
				</div>
				<div class="counter-item">
					<span id="counter-number">50</span>
					<p>Pelanggan</p>
					<p>mempercayai kami</p>
				</div>
				<div class="counter-item">
					<span id="counter-number">2400</span>
					<p>Merchandise</p>
					<p>telah habis terjual</p>
				</div>
			</div>
			<div class="circle rellax" data-rellax-speed="-3"></div>
		</section>
		<section id="event" class="rellax" data-rellax-speed="3">
			<h1 class="title">
				Event
			</h1>
			<div class="event-list rellax" data-rellax-speed="1">
				<div class="glide">
				  <div class="glide__track" data-glide-el="track">
				    <ul class="glide__slides">
				      <li class="glide__slide" data-tilt-full-page-listening>
				      	<img src="./img/1.webp" alt="Event A">
							  <a class="event-title" href="#">
						  		Event di Jakarta
						  	</a>
				      </li>
				      <li class="glide__slide" data-tilt-full-page-listening>
				      	<img src="./img/2.webp" alt="Event B">
							  <a class="event-title" href="#">
						  		Event di Jogja
						  	</a>
				      </li>
				      <li class="glide__slide" data-tilt-full-page-listening>
				      	<img src="./img/3.webp" alt="Event C">
						  	<a class="event-title" href="#">
						  		Event di Surakarta
						  	</a>
				      </li>
				    </ul>
				  </div>
				</div>
			</div>
		</section>
		<section id="program">
			<h1 class="title">
				Program kami, demi generasi muda
			</h1>
			<div class="program-list">
				<div class="program-item">
					<h1>Eigel Competition</h1>
					<p>
						Kompetisi ekstrakulikuler tingkat SMA sebagai wadah peningkatan talenta di bidang Sains, Seni, dan Teknologi dengan misi prestasi unggul bagi generasi baru anak muda.
					</p>
					<a href="./another.html" class="btn">Pelajari lebih lanjut</a>
				</div>
				<div class="program-item">
					<h1>Putih Abu-abu Show</h1>
					<p>
						Talkshow pengembangan bagi kaum muda â€“ mudi di bidang entrepreneurship (wirausaha), teknologi dan pendidikan serta budaya di Indonesia sebagai langkah maju petama untuk meningkatkan rasa pada diri sendiri untuk orang sekitar dan lingkungan. 
					</p>
				</div>
			</div>
		</section>
		<section id="merchandise" class="rellax" data-rellax-speed="3">
			<h1 class="title">
				Merchandise
			</h1>
			<div class="merchandise-list">
				<div class="merchandise-item">
					<a href="">
						<img src="./img/m-1.webp" alt="Merchandise A">
					</a>
				</div>
				<div class="merchandise-item">
					<a href="">
						<img src="./img/m-2.webp" alt="Merchandise B">
					</a>
				</div>
				<div class="merchandise-item">
					<a href="">
						<img src="./img/m-3.webp" alt="Merchandise C">
					</a>
				</div>				
			</div>
		</section>
	</main>
	<script src="./js/glide.min.js"></script>
	<script src="./js/rellax.min.js"></script>
	<script src="./js/vanilla-tilt.min.js"></script>
	<script src="./js/anime.min.js"></script>
	<<!-- script src="https://unpkg.com/@barba/core"></script>
	<script src="./js/transition.js"></script> -->
	<script>
		var rellax = new Rellax('.rellax')

		var MyGlide = function (Glide, Components, Events) {
			var lastTilt

			let settings = {
				mount() {
		      lastTilt = document.querySelector(".glide__slide--active")
					VanillaTilt.init(lastTilt, {
						scale: 1.1
					})
		    },

				newTilt() {
		    	let destroy = new Promise(resolve => {
	    			lastTilt.vanillaTilt.destroy()
	    			resolve()
		    	})

		    	if(destroy) {
		    		lastTilt = document.querySelector(".glide__slide--active")
		    		lastTilt.style.transform = 'scale(1)'
		    		VanillaTilt.init(lastTilt, {
							scale: 1.1
						});
		    	}
		    }
		  }

	    Events.on('run.after', function() {
	    	settings.newTilt()
	    })

		  return settings
		}

		var glide = new Glide('.glide', {
			type: 'carousel',
			perView: 2,
			gap: 0,
			peek: 120,
			breakpoints: {
				1440: {
					peek: 110
				},
				900: {
					perView: 2,
					peek: 50,
					focusAt: 'center'
				},
				600: {
					perView: 1,
					peek: 30,
					focusAt: 'center'
				}
			}
		}).mount({MyGlide})

		let sections = Array.from(document.getElementsByTagName('section'))

		const sectionsMinus = {
			header: 80,
			profile: 220,
			counter: 210,
			event: 500,
			program: 100,
			merchandise: 850
		}

		document.querySelectorAll('.nav-menu a').forEach(el => {
			el.addEventListener('click', function(event) {
				event.preventDefault()

				let closeNav = new Promise(resolve => {
					openNav()
					setTimeout(function() {
						resolve()
					}, 3000)					
				})

				const destination = el.getAttribute('href')
				const location = document.querySelector(destination)

				closeNav.then(() => {
					window.scrollTo({
						top: location.offsetTop - sectionsMinus[destination.substring(1)],
						behavior: 'smooth'
					})
				})
			})
		})

		function sectionUp() {
			if(document.querySelector('#section-active span').innerText > 1) {
				let curSection = new Promise(resolve => {
					resolve(parseInt(document.querySelector('#section-active span').innerText) - 2)
				})

				curSection.then((result) => {
						window.scrollTo({
							top: sections[result].offsetTop - Object.values(sectionsMinus)[result],
							behavior: 'smooth'
						})
					})
			}
		}

		function sectionDown() {
			if(document.querySelector('#section-active span').innerText < 6) {
				let curSection = new Promise(resolve => {
					resolve(parseInt(document.querySelector('#section-active span').innerText))
				})

				curSection.then((result) => {
						window.scrollTo({
							top: sections[result].offsetTop - Object.values(sectionsMinus)[result],
							behavior: 'smooth'
						})
					})
			}
		}

		function openNav() {
			if(document.querySelector('.nav-btn').classList[1] == 'active') {
				anime({
					targets: '.nav-menu a',
					paddingLeft: 0,
					opacity: 0,
					delay: anime.stagger(250, {from: 'last'}),
					complete: function(anim) {
						document.querySelectorAll('.nav-menu a').forEach(el => {
							el.style.display = 'none'
						})
						document.querySelector('.nav-btn').classList.remove('active')
					},
					duration: 1000,
					easing: 'cubicBezier(.5, .05, .1, .3)'
				})
			} else {
				document.querySelector('.nav-btn').classList.add('active')

				anime({
					targets: '.nav-menu a',
					paddingLeft: [0, '10vw'],
					opacity: 1,
					delay: anime.stagger(350),
					begin: function(anim) {
						document.querySelectorAll('.nav-menu a').forEach(el => {
							el.style.display = 'block'
						})
					},
					duration: 1000,
					easing: 'cubicBezier(.5, .05, .1, .3)'
				})
			}
		}

		window.onscroll = function() {
			if(window.pageYOffset < (document.getElementById('profile').offsetTop - sectionsMinus.profile * 2)) {
				document.querySelector('#section-active span').innerText = 1
			} else if(window.pageYOffset < (document.getElementById('counter').offsetTop - sectionsMinus.counter * 2)) {
				document.querySelector('#section-active span').innerText = 2
			} else if(window.pageYOffset < (document.getElementById('event').offsetTop - sectionsMinus.event * 2)) {
				document.querySelector('#section-active span').innerText = 3
			} else if(window.pageYOffset < (document.getElementById('program').offsetTop - sectionsMinus.program * 2)) {
				document.querySelector('#section-active span').innerText = 4
			} else if(window.pageYOffset < (document.getElementById('merchandise').offsetTop - sectionsMinus.merchandise * 1.5)) {
				document.querySelector('#section-active span').innerText = 5
			} else {
				document.querySelector('#section-active span').innerText = 6
			}
		}
	</script>
	<script src="./js/smscroll.js"></script>
</body>
</html>