@tailwind base;

@tailwind components;

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;  
  overflow: hidden;
}

@media (width > 1366) {
	html {
		font-size: 20px;
	}
}

body {
	@apply font-body bg-black;
}

.btn {
	@apply relative flex flex-row items-center text-xl;

	&::before {
		content: '';
		bottom: -0.5rem;
		height: 0.15rem;
		@apply absolute block w-full bg-white;
	}

	&::after {
		content: '';
		background-image: url('../img/arrow.svg');
		@apply block w-8 h-8 bg-contain bg-center bg-no-repeat ml-4;
	}
}

nav {
	@apply fixed top-0 right-0 h-full flex items-end pr-8 py-12 z-50;

	& .nav-container {
		@apply h-full flex flex-col items-center justify-between;
	}

	& .nav-btn {
		font-size: 0;
		@apply relative w-8 h-4 outline-none;

		&:matches(::before, ::after) {
			content: '';
			height: 0.15rem;
			@apply absolute block w-full bg-white;
		}

		&::before {
			@apply top-0;
		}

		&::after {
			@apply bottom-0;
		}
	}

	& .nav-menu {
		@apply hidden;
	}

	& .nav-section {
		@apply block flex flex-col text-white;

		& button {
			@apply flex items-center justify-center outline-none;

			& svg {
				transform: scale(1);
			}
		}

		& #section-active {
			@apply text-lg py-4;

			& span {
				@apply text-xl;
			}
		}
	}
}

main {
	@apply text-white pt-12 px-8;
}

#header {
	@apply relative w-full flex flex-col items-start bg-cover bg-no-repeat mb-48;
}

#brand {
	& img {
		@apply w-20;
	}
}

#brand-name {
	text-shadow: 4px 0px 16px rgba(0, 0, 0, 0.2);
	@apply font-title uppercase tracking-widest leading-tight text-5xl font-bold mt-12;
}

#brand-desc {
	text-shadow: 4px 0px 16px rgba(0, 0, 0, 0.2);
	@apply text-xl tracking-widest mb-8;
}

.brand-background {
	top: 10vh;
  left: 23vw;
	z-index: -1;
	@apply static;

	& img {
		@apply w-full h-48 object-cover mb-8;
	}
}

#profile {
	@apply relative w-full flex flex-col items-start mb-12;

	& .title {
		@apply font-title text-4xl tracking-widest text-right mb-8 bg-black;
	}

	& .content {
		@apply w-full flex flex-col;

		& .photo {
			height: 12rem;
			@apply relative w-full overflow-hidden mb-8;

			& img {
				height: 20rem;
				@apply w-full object-cover object-bottom mb-4;
			}
		}

		& .desc {
			@apply w-full flex flex-col items-start pb-5;

			& .text {
				@apply text-xl text-justify mb-8;
			}
		}
	}
}

#counter {
	margin-bottom: 48rem;
	@apply relative w-full flex flex-col items-center;

	& .title {
		@apply font-title text-4xl mb-8;
	}

	& .counter-list {
		@apply w-full flex flex-col items-center;

		& .counter-item {
			@apply flex flex-col items-center mb-10;

			& p {
				@apply text-2xl;
			}

			& #counter-number {
				@apply font-title text-5xl leading-none mb-2;
			}
		}
	}

	& .circle {
		background-color: rgba(255, 255, 255, 0.08);
		top: -26rem;
		z-index: -1;
		width: 80vw;
		height: 80vw;
		@apply absolute rounded-full;
	}
}

#event {
	width: calc(100% + 4rem);
	@apply relative flex flex-col items-center -mx-8;

	& .title {
		@apply font-title text-5xl tracking-widest mb-64;
	}

	& .event-list {
		@apply w-full px-0 cursor-grab;
	}

	& .glide {
		z-index: -1;

		& .glide__slides {
			@apply pt-10;
		}

		& .glide__slide {
			transition: 0.4s;
			@apply py-4;

			&:not(.glide__slide--active) {
				filter: brightness(60%);
			}

			& .event-desc {
				transition: 0.5s;
				@apply opacity-0;
			}

			&.glide__slide--active {
				transform-style: preserve-3d;
				@apply relative shadow-xl z-10 -mt-8;

				&::before {
					content: '';
					background-color: rgba(0, 0, 0, 0.05);
					@apply absolute block w-full h-full;
				}

				&:hover .event-desc {
					@apply opacity-100;
				}

				& .event-desc {
					transform: translateZ(20px);
					margin-top: -5rem;
					@apply flex flex-col items-center mx-auto p-6 z-10 mr-0;

					& .text {
						background-color: rgba(0, 0, 0, 0.6);
						@apply flex flex-col items-start py-3 px-8 max-w-md;

						& h1 {
							@apply font-title text-xl uppercase mb-2;
						}

						& p {
							@apply mb-3;
						}

						& .btn {
							@apply text-base;

							&::before {
								height: 0.125rem;
								bottom: -0.25rem;
							}

							&::after {
								@apply w-6 h-6;
							}
						}
					}
				}
			}
		}
	}
}

#program {
	margin-top: -26rem;
	margin-bottom: 80rem;
	@apply w-full flex flex-col;

	& .title {
		@apply font-title text-4xl text-center mb-12 z-50;
	}

	& .program-list {
		@apply w-full flex flex-col;
	}

	& .program-item {
		@apply w-full flex flex-col items-start mb-12;

		& h1 {
			@apply font-semibold uppercase text-lg opacity-50 mb-4;
		}

		& p {
			@apply text-xl text-justify;
		}

		& .btn {
			@apply mt-auto;
		}
	}
}

#merchandise {
	@apply w-full flex flex-col items-center relative;

	& .title {
		@apply font-title text-4xl tracking-widest mb-8;
	}

	& .merchandise-list {
		@apply w-full flex flex-row flex-wrap;

		& .merchandise-item {
			@apply w-full h-48 mb-4;

			& img {
				@apply w-full h-full object-cover object-center;
			}

			&:nth-child(n + 2) {
				@apply hidden;
			}
		}
	}
}

@screen lg {
	.btn {
		font-size: 1.7vw;
	}

	main {
		padding-right: 5vw;
		padding-left: 5vw;
		@apply pt-20;
	}

	nav {
		@apply pr-12 py-20;
	}

	#header {
		margin-bottom: 58vh;
	}

	#brand {
		& img {
			width: 8vw;
		}
	}

	#brand-name {
		margin-top: 6vh;
		font-size: 10vw;
	}

	#brand-desc {
		margin-bottom: 4vh;
		font-size: 2.6vw;
	}

	.brand-background {
		@apply absolute;

		&::before {
			content: '';
			display: block;
			right: -2rem;
			bottom: 1rem;
			transform: perspective(500px) rotateX(-0.68deg) rotateY(-11.5deg)
				scale3d(1, 1, 1);
			@apply absolute w-full h-full border-4 border-white;
		}

		& img {
			transform: perspective(500px) rotateX(-0.68deg) rotateY(-11.5deg)
			scale3d(1, 1, 1);
			width: 40vw;
			@apply h-auto;
		}
	}

	#profile {
		margin-bottom: 20vh;
		@apply items-end;

		& .title {
			font-size: 4vw;
			@apply px-8 mr-24;
		}

		&::before {
			content: '';
			top: 2rem;
			right: 4rem;
			z-index: -1;
			@apply absolute block w-3/4 h-full border-4 border-white;
		}

		& .content {
			@apply flex-row pr-12;

			& .photo {
				height: 45vh;
				transform: perspective(700px) rotateX(0.68deg) rotateY(11.5deg)
					scale3d(1, 1, 1);
				@apply w-1/2 pl-4 mb-0;

				& img {
					@apply h-128;
				}
			}

			& .desc {
				@apply w-1/2 justify-between pl-8 pr-20;

				& .text {
					font-size: 1.7vw;
					@apply mb-16;
				}
			}
		}
	}

	#counter {
		margin-bottom: 80vh;

		& .title {
			font-size: 3vw;
		}

		& .counter-list {
			@apply flex-row justify-around;

			& .counter-item {
				@apply mb-0;

				& .counter-number {
					font-size: 5vw;
				}

				& p {
					font-size: 2vw;
				}
			}
		}

		& .circle {
			top: -64vh;
			width: 42vw;
			height: 42vw;
		}
	}

	#event {
		@apply w-full items-start mx-0;

		&::before {
			content: '';
			top: 2rem;
			height: 50vh;
			z-index: -1;
			@apply absolute w-3/4 block border-4 border-white;
		}

		& .title {
			font-size: 4vw;
			margin-bottom: 24vh;
			@apply bg-black px-6 ml-12;
		}

		& .event-list {
			@apply px-20;
		}

		& .glide {
			z-index: -1;

			& .glide__slides {
				@apply pt-10;
			}

			& .glide__slide {
				&.glide__slide--active {
					& .event-desc {
						@apply -mr-128 -mt-40;

						& .text {
							& h1 {
								@apply text-3xl;
							}
						}
					}
				}
			}
		}
	}

	#program {
		margin-top: -78vh;
		margin-bottom: 150vh;

		& .title {
			font-size: 4vw;
			margin-bottom: 8vh;
		}

		& .program-list {
			@apply flex-row;
		}

		& .program-item {
			@apply w-1/2 pr-20 mb-0;

			& h1 {
				font-size: 1.6vw;
				margin-bottom: 4vh;
			}

			& p {
				font-size: 1.6vw;
			}
		}
	}

	#merchandise {
		@apply items-end pr-20;

		&::before {
			content: '';
			width: 90%;
			height: 80%;
			z-index: -1;
			@apply absolute block border-4 border-white mt-10;
		}

		& .title {
			@apply bg-black text-5xl text-right px-8 mr-8 mb-0;
		}

		& .merchandise-list {
			& .merchandise-item {
				@apply w-1/3 h-56 p-4 mb-0;

				&:nth-child(n + 2) {
					@apply block;
				}
			}
		}
	}
}

@screen xl {
	nav {
		padding-right: 4.5vw;
		
		& .nav-btn {
	    width: 3vw;
    	height: 1.5vw;
		}

		& .nav-section {
			& #section-active {
				font-size: 1.6vw;
				@apply py-6;

				& span {
					font-size: 2.2vw;
				}
			}

			& button {
				& svg {
					transform: scale(2);
				}
			}
		}
	}

	#brand-name {
		margin-top: 10vh;
	}

	.brand-background {
		top: 13vh;
		left: 21vw;

		&::before {
			right: -4rem;
			height: 104%;
		}

		& img {
			width: 46vw;
		}
	}

	#profile {
		& .content {
			& .photo {
				height: 50vh;

				& img {
					height: 68vh;
				}
			}
		}
	}

	#event {
		&::before {
			height: 54vh;
		}

		& .title {
			margin-bottom: 17vh;
		}
	}

	#program {
		margin-top: -32vh;
		margin-bottom: 110vh;

		& .program-item {
			@apply px-20;

			& h1 {
				font-size: 2vw;
			}

			& p {
				font-size: 2vw;
			}
		}
	}

	#merchandise {
		& .title {
			font-size: 4vw;
		}

		& .merchandise-list {
			& .merchandise-item {
				height: 36vh;
			}
		}
	}
}

@tailwind utilities;
